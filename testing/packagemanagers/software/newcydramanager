#!/bin/sh

# Couleurs
GREEN='\033[0;32m'
BLUE='\033[0;34m'
LIGHT_BLUE='\033[1;34m'
RED='\033[0;31m'
NC='\033[0m'

# Constantes
MIRROR_URL="https://mirror.thekinrar.fr/archlinux"
BRANCHES="core community"

# Fonctions
install_packages() { echo "${GREEN}Installation en cours...${NC}"; for package in "$@"; do wget "$MIRROR_URL/$BRANCHES/os/x86_64/$package"; done; echo "${GREEN}Installation terminée.${NC}"; }
remove_packages() { echo "${RED}Suppression en cours...${NC}"; for package in "$@"; do rm "$package"; done; echo "${RED}Suppression terminée.${NC}"; }
update_packages() { echo "${LIGHT_BLUE}Mise à jour en cours...${NC}"; for branch in $BRANCHES; do wget -r -np -nH --cut-dirs=2 -R "index.html*" -e robots=off -P $branch "$MIRROR_URL/$branch/os/x86_64/"; done; echo "${LIGHT_BLUE}Mise à jour terminée.${NC}"; }

# Gestionnaire de paquets
case $1 in
  install) shift; install_packages "$@" ;;
  remove) shift; remove_packages "$@" ;;
  update) update_packages ;;
  *) echo "${RED}Commande invalide.${NC}" ;;
esac
